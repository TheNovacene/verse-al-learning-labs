:root{
  --ink:#0f172a; --muted:#6b7280; --line:#e5e7eb; --soft:#f8fafc;
  --ok:#16a34a; --warn:#d97706; --bad:#dc2626;
}

*{box-sizing:border-box}
html,body{margin:0;padding:0;background:#fff;color:var(--ink);
  font:16px/1.5 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}

.site-head{padding:24px 20px 8px;border-bottom:1px solid var(--line)}
.site-head h1{margin:0 0 6px;font-size:20px}
.tag{margin:0;color:var(--muted);font-size:14px}

.wrap{display:grid;grid-template-columns:1fr 360px;gap:16px;padding:16px 20px}
@media (max-width: 980px){.wrap{grid-template-columns:1fr}}

.canvas{background:var(--soft);border:1px solid var(--line);border-radius:14px;padding:12px}
.svg-wrap{display:grid;place-items:center;min-height:420px;background:#fff;border:1px solid var(--line);border-radius:12px}
.controls{display:flex;gap:8px;padding:10px 2px}
.btn{cursor:pointer;border-radius:10px;padding:10px 14px;font-weight:600;border:1px solid var(--line);background:var(--ink);color:#fff}
.btn:hover{filter:brightness(.92)}

.panel{border:1px solid var(--line);border-radius:14px;padding:12px}
.panel h2{margin:4px 0 8px;font-size:16px}
.hint{margin:0 0 10px;color:var(--muted);font-size:14px}
.grid{display:grid;grid-template-columns:1fr;gap:10px;margin-bottom:8px}
.card{border:1px solid var(--line);border-radius:10px;padding:10px;background:#fff}
.card h3{margin:0 0 6px;font-size:14px}
label{display:grid;gap:6px;font-size:14px}
input,select{border:1px solid var(--line);border-radius:8px;padding:8px 10px;font-size:14px}
.row{display:flex;gap:8px;align-items:center;margin:8px 0}
.note{margin-top:8px;color:var(--muted);font-size:13px;background:#fff;border:1px dashed var(--line);padding:10px;border-radius:10px}

svg{user-select:none}
.box{fill:#fff;stroke:#1f2937;stroke-width:2}
.box.ok{stroke:var(--ok)}
.box.warn{stroke:var(--warn)}
.box.bad{stroke:var(--bad)}
.blabel{font-weight:700;fill:#111827}
.sublabel{fill:#6b7280;font-size:11px}
.edge{stroke:#cbd5e1;stroke-width:1.6;fill:none}
.edge.active{stroke:#111827;stroke-width:2.4}
.loop{stroke:#111827;stroke-width:1.6;fill:none;stroke-dasharray:5 4}
.loop.active{stroke-width:2.2}
.tip-bg{fill:#111827;opacity:.95}
.tip-text{fill:#fff;font-size:11px}
